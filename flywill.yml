AWSTemplateFormatVersion: 2010-09-09
Metadata:
  'AWS::CloudFormation::Designer':
    c3acf241-f90d-4eb2-9020-fbe5bd0969d5:
      size:
        width: 1440
        height: 870
      position:
        x: 180
        'y': 60
      z: 1
      embeds:
        - e0fa228c-9b66-4b6b-bfe4-4bb1c4a9c279
        - e44d345b-5717-4de3-97ce-662f120e85da
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - ed2dfc89-c4ab-48a7-8ebc-a8e132fd986e
        - 4e67489b-edf5-4f77-b454-7e09dcbcbc1b
        - 01157361-48ec-48fc-b928-2785bb199108
        - 2920d3d7-559f-46d7-9e72-d43ed929d7e0
        - c4afa867-6e2e-4ef4-8447-5c553cdc96a1
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
    6c332fba-4bc4-4c70-adb3-bd8e4e8cdce5:
      size:
        width: 60
        height: 60
      position:
        x: 60
        'y': 360
      z: 1
      embeds: []
    5f10df8b-874d-48a9-8d6f-a15aab36e272:
      source:
        id: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      target:
        id: 6c332fba-4bc4-4c70-adb3-bd8e4e8cdce5
      z: 1
    b6ccfd78-760d-418a-b5ff-bc7e44a2bb27:
      size:
        width: 420
        height: 210
      position:
        x: 240
        'y': 90
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - ea9d36d5-03b2-407d-9bdd-035d28d8ab34
        - 085525b2-349d-4baa-a69c-baeb6f97d4ce
        - d196184c-1210-4fb3-b0f7-0cc7a9f4e531
    2920d3d7-559f-46d7-9e72-d43ed929d7e0:
      size:
        width: 330
        height: 150
      position:
        x: 750
        'y': 150
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds: []
    c4afa867-6e2e-4ef4-8447-5c553cdc96a1:
      size:
        width: 390
        height: 150
      position:
        x: 1170
        'y': 120
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - 0197061d-448f-4c95-a892-053470b2a557
    01157361-48ec-48fc-b928-2785bb199108:
      size:
        width: 330
        height: 180
      position:
        x: 240
        'y': 630
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - 7e96d629-af9c-4008-9d49-879f5781a89b
        - 0f362326-71c6-48b4-90fc-edf9dfee2835
    4e67489b-edf5-4f77-b454-7e09dcbcbc1b:
      size:
        width: 330
        height: 210
      position:
        x: 720
        'y': 630
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds: []
    ed2dfc89-c4ab-48a7-8ebc-a8e132fd986e:
      size:
        width: 420
        height: 180
      position:
        x: 1140
        'y': 630
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds: []
    2a498d1e-391a-4660-84ac-d185bf742d32:
      size:
        width: 240
        height: 150
      position:
        x: 270
        'y': 360
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - 70e89b45-45f4-465a-9d5d-8436989e1ac3
    70e89b45-45f4-465a-9d5d-8436989e1ac3:
      size:
        width: 60
        height: 60
      position:
        x: 330
        'y': 390
      z: 3
      parent: 2a498d1e-391a-4660-84ac-d185bf742d32
      embeds: []
      isassociatedwith:
        - 6c332fba-4bc4-4c70-adb3-bd8e4e8cdce5
      iscontainedinside:
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
        - 2a498d1e-391a-4660-84ac-d185bf742d32
      dependson:
        - 5f10df8b-874d-48a9-8d6f-a15aab36e272
    96d93b64-c2e5-4333-bbbb-91164e368942:
      size:
        width: 240
        height: 150
      position:
        x: 780
        'y': 390
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - d0dbeacd-cfae-4190-b32b-9e82ba02d573
    ea9d36d5-03b2-407d-9bdd-035d28d8ab34:
      size:
        width: 60
        height: 60
      position:
        x: 270
        'y': 120
      z: 3
      parent: b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
      embeds: []
    d196184c-1210-4fb3-b0f7-0cc7a9f4e531:
      size:
        width: 60
        height: 60
      position:
        x: 360
        'y': 120
      z: 3
      parent: b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
      embeds: []
    d0dbeacd-cfae-4190-b32b-9e82ba02d573:
      size:
        width: 60
        height: 60
      position:
        x: 810
        'y': 450
      z: 3
      parent: 96d93b64-c2e5-4333-bbbb-91164e368942
      embeds: []
      iscontainedinside:
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
        - 96d93b64-c2e5-4333-bbbb-91164e368942
      dependson:
        - d196184c-1210-4fb3-b0f7-0cc7a9f4e531
    a965ca98-891c-4d69-a7fc-e1df4951cdd7:
      size:
        width: 270
        height: 150
      position:
        x: 1200
        'y': 390
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds:
        - abe1f888-1dc6-4477-b601-7a8fb9aadc96
    7e96d629-af9c-4008-9d49-879f5781a89b:
      size:
        width: 60
        height: 60
      position:
        x: 360
        'y': 630
      z: 3
      parent: 01157361-48ec-48fc-b928-2785bb199108
      embeds: []
    0f362326-71c6-48b4-90fc-edf9dfee2835:
      size:
        width: 60
        height: 60
      position:
        x: 300
        'y': 630
      z: 3
      parent: 01157361-48ec-48fc-b928-2785bb199108
      embeds: []
    abe1f888-1dc6-4477-b601-7a8fb9aadc96:
      size:
        width: 60
        height: 60
      position:
        x: 1350
        'y': 390
      z: 3
      parent: a965ca98-891c-4d69-a7fc-e1df4951cdd7
      embeds: []
      iscontainedinside:
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
        - a965ca98-891c-4d69-a7fc-e1df4951cdd7
      dependson:
        - 0f362326-71c6-48b4-90fc-edf9dfee2835
    e0fa228c-9b66-4b6b-bfe4-4bb1c4a9c279:
      size:
        width: 60
        height: 60
      position:
        x: 570
        'y': 360
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds: []
      iscontainedinside:
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
    e44d345b-5717-4de3-97ce-662f120e85da:
      size:
        width: 60
        height: 60
      position:
        x: 1050
        'y': 330
      z: 2
      parent: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
      embeds: []
      iscontainedinside:
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
        - c3acf241-f90d-4eb2-9020-fbe5bd0969d5
    809e0ef6-01d6-482c-a2ee-8a3674079eae:
      size:
        width: 150
        height: 150
      position:
        x: 1710
        'y': 270
      z: 1
      embeds: []
    0197061d-448f-4c95-a892-053470b2a557:
      size:
        width: 60
        height: 60
      position:
        x: 1260
        'y': 150
      z: 3
      parent: c4afa867-6e2e-4ef4-8447-5c553cdc96a1
      embeds: []
    61d6f619-a1a0-41f6-bedc-eca13aa8e857:
      size:
        width: 60
        height: 60
      position:
        x: 330
        'y': 210
      z: 1
      embeds: []
    085525b2-349d-4baa-a69c-baeb6f97d4ce:
      size:
        width: 60
        height: 60
      position:
        x: 520
        'y': 170
      z: 3
      parent: b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
      embeds: []
      isassociatedwith:
        - e0fa228c-9b66-4b6b-bfe4-4bb1c4a9c279
      iscontainedinside:
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
        - b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
Resources:
  vpc:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: !Ref vpccidrblock
      EnableDnsSupport: 'true'
      EnableDnsHostnames: 'true'
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c3acf241-f90d-4eb2-9020-fbe5bd0969d5
  igw:
    Type: 'AWS::EC2::InternetGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 6c332fba-4bc4-4c70-adb3-bd8e4e8cdce5
  igwa:
    Type: 'AWS::EC2::VPCGatewayAttachment'
    Properties:
      VpcId: !Ref vpc
      InternetGatewayId: !Ref igw
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 5f10df8b-874d-48a9-8d6f-a15aab36e272
  PublicSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.0.0/24
      MapPublicIpOnLaunch: true
      AvailabilityZone: us-east-1a
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: b6ccfd78-760d-418a-b5ff-bc7e44a2bb27
  DatabaseSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.2.0/24
      AvailabilityZone: us-east-1a
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c4afa867-6e2e-4ef4-8447-5c553cdc96a1
  PrivateSubnet1:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.1.0/24
      AvailabilityZone: us-east-1a
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2920d3d7-559f-46d7-9e72-d43ed929d7e0
  publicSubnetRouteTableAssociation1:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref PublicSubnet1
      RouteTableId:
        Ref: Publicroutetable
  publicSubnetRouteTableAssociation2:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref PublicSubnet2
      RouteTableId:
        Ref: Publicroutetable
  PublicSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.3.0/24
      MapPublicIpOnLaunch: true
      AvailabilityZone: us-east-1b
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 01157361-48ec-48fc-b928-2785bb199108
  PrivateSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.4.0/24
      AvailabilityZone: us-east-1b
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 4e67489b-edf5-4f77-b454-7e09dcbcbc1b
  DatabaseSubnet2:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId:
        Ref: vpc
      CidrBlock: 10.0.5.0/24
      AvailabilityZone: us-east-1b
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ed2dfc89-c4ab-48a7-8ebc-a8e132fd986e
  Publicroutetable:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId:
        Ref: vpc
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2a498d1e-391a-4660-84ac-d185bf742d32
  Publicroute:
    Type: 'AWS::EC2::Route'
    DependsOn: igwa
    Properties:
      RouteTableId:
        Ref: Publicroutetable
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: igw
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 70e89b45-45f4-465a-9d5d-8436989e1ac3
  privateroutetable:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId:
        Ref: vpc
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 96d93b64-c2e5-4333-bbbb-91164e368942
  NATGateway:
    Type: 'AWS::EC2::NatGateway'
    Properties:
      AllocationId: !GetAtt NATGatewayEIP.AllocationId
      SubnetId: !Ref PublicSubnet1
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: d196184c-1210-4fb3-b0f7-0cc7a9f4e531
  NATGatewayEIP:
    Type: 'AWS::EC2::EIP'
    Properties:
      Domain: vpc
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ea9d36d5-03b2-407d-9bdd-035d28d8ab34
  RouteNATGateway:
    DependsOn: NATGateway
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref privateroutetable
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId: !Ref NATGateway
    Metadata:
      'AWS::CloudFormation::Designer':
        id: d0dbeacd-cfae-4190-b32b-9e82ba02d573
  privateSubnetRouteTableAssociation1:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref PrivateSubnet1
      RouteTableId:
        Ref: privateroutetable
  privateSubnetRouteTableAssociation2:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref PrivateSubnet2
      RouteTableId:
        Ref: privateroutetableaz2
  databaseSubnetRouteTableAssociation1:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref DatabaseSubnet1
      RouteTableId:
        Ref: privateroutetable
  databaseSubnetRouteTableAssociation2:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      SubnetId: !Ref DatabaseSubnet2
      RouteTableId:
        Ref: privateroutetableaz2
  privateroutetableaz2:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId:
        Ref: vpc
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: a965ca98-891c-4d69-a7fc-e1df4951cdd7
  NATGatewayaz2:
    Type: 'AWS::EC2::NatGateway'
    Properties:
      AllocationId: !GetAtt NATGatewayEIPaz2.AllocationId
      SubnetId: !Ref PublicSubnet2
      Tags:
        - Key: stack
          Value: production
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0f362326-71c6-48b4-90fc-edf9dfee2835
  NATGatewayEIPaz2:
    Type: 'AWS::EC2::EIP'
    Properties:
      Domain: vpc
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 7e96d629-af9c-4008-9d49-879f5781a89b
  RouteNATGatewayaz2:
    DependsOn: NATGatewayaz2
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref privateroutetableaz2
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId: !Ref NATGatewayaz2
    Metadata:
      'AWS::CloudFormation::Designer':
        id: abe1f888-1dc6-4477-b601-7a8fb9aadc96
  databasesg:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Allow http to client host
      VpcId: !Ref vpc
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 3306
          ToPort: 3306
          SourceSecurityGroupId: !Ref bastionhostsg
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e44d345b-5717-4de3-97ce-662f120e85da
  bastionhostsg:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Allow http to client host
      VpcId: !Ref vpc
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 102.89.23.192/32
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e0fa228c-9b66-4b6b-bfe4-4bb1c4a9c279
  myDBSubnetGroup:
    Properties:
      DBSubnetGroupDescription: description
      SubnetIds:
        - !Ref DatabaseSubnet1
        - !Ref DatabaseSubnet2
      Tags:
        - Key: prod
          Value: String
    Type: 'AWS::RDS::DBSubnetGroup'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 809e0ef6-01d6-482c-a2ee-8a3674079eae
  MyDB1:
    Type: 'AWS::RDS::DBInstance'
    Properties:
      DBInstanceIdentifier: !Ref DBInstanceID
      DBName: !Ref DBName
      DBInstanceClass: !Ref DBInstanceClass
      AllocatedStorage: !Ref DBAllocatedStorage
      Engine: MySQL
      EngineVersion: 8.0.28
      MasterUsername: !Ref DBUsername
      MasterUserPassword: !Ref DBPassword
      VPCSecurityGroups:
        - !Ref databasesg
      DBSubnetGroupName: !Ref myDBSubnetGroup
      AvailabilityZone: us-east-1a
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0197061d-448f-4c95-a892-053470b2a557
  NewKeyPair:
    Type: 'AWS::EC2::KeyPair'
    Properties:
      KeyName: MyKeyPair
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 61d6f619-a1a0-41f6-bedc-eca13aa8e857
  bastonhost:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: t2.micro
      ImageId: ami-0b5eea76982371e91
      KeyName:
        Ref: NewKeyPair
      SecurityGroupIds:
        - Ref: bastionhostsg
      SubnetId: !Ref PublicSubnet1
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 085525b2-349d-4baa-a69c-baeb6f97d4ce
Parameters:
  vpccidrblock:
    Type: String
    Description: vpc cidr block
    Default: 10.0.0.0/16
  DBInstanceID:
    Default: mydbinstance
    Description: My database instance
    Type: String
    MinLength: '1'
    MaxLength: '63'
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'
    ConstraintDescription: >-
      Must begin with a letter and must not end with a hyphen or contain two
      consecutive hyphens.
  DBName:
    Default: mydb
    Description: My database
    Type: String
    MinLength: '1'
    MaxLength: '64'
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'
    ConstraintDescription: Must begin with a letter and contain only alphanumeric characters.
  DBInstanceClass:
    Default: db.t2.micro
    Description: DB instance class
    Type: String
    ConstraintDescription: Must select a valid DB instance type.
  DBAllocatedStorage:
    Default: '50'
    Description: The size of the database (GiB)
    Type: Number
    MinValue: '20'
    MaxValue: '65536'
    ConstraintDescription: must be between 20 and 65536 GiB.
  DBUsername:
    NoEcho: 'true'
    Description: Username for MySQL database access
    Type: String
    MinLength: '1'
    MaxLength: '16'
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.
  DBPassword:
    NoEcho: 'true'
    Description: Password MySQL database access
    Type: String
    MinLength: '8'
    MaxLength: '41'
    AllowedPattern: '[a-zA-Z0-9]*'
    ConstraintDescription: must contain only alphanumeric characters.
